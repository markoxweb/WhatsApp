<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Generador de Enlaces WhatsApp</title>

  <!-- Icono de WhatsApp -->
  <link rel="icon" href="whatsapp-icon.png" type="image/png">
  <link rel="apple-touch-icon" href="whatsapp-icon.png">
  <meta name="theme-color" content="#25D366">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <style>
    :root { --bg:#0b1220; --card:#121a2b; --fg:#eaf0ff; --muted:#9fb0d0; --accent:#25D366; }
    body{margin:0;padding:0;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;}
    .wrap{max-width:680px;margin:0 auto;padding:20px;}
    h1{font-size:1.4rem;margin-bottom:16px;text-align:center;color:var(--accent);}
    .card{background:var(--card);border-radius:16px;padding:16px;box-shadow:0 6px 24px rgba(0,0,0,.25)}
    label{display:block;font-size:.9rem;margin:12px 0 6px;color:var(--muted)}
    input,textarea,select{width:100%;box-sizing:border-box;background:#0a1324;color:var(--fg);border:1px solid #1d2a45;border-radius:12px;padding:12px;font-size:1rem;outline:none}
    textarea{min-height:110px;resize:vertical}
    .row{display:flex;gap:10px}
    .row > *{flex:1}
    .help{font-size:.85rem;color:var(--muted);margin-top:6px}
    .btns{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
    button{appearance:none;border:0;border-radius:12px;padding:12px 14px;font-size:1rem;cursor:pointer;text-decoration:none;flex:1}
    .primary{background:var(--accent);color:#001632;font-weight:700}
    .ghost{background:#0a1324;color:var(--fg);border:1px solid #1d2a45}
    .out{word-break:break-all;background:#0a1324;padding:12px;border-radius:12px;margin-top:12px;border:1px dashed #28406e}
    .small{font-size:.85rem}
    .footer{margin-top:18px;color:var(--muted);font-size:.85rem;text-align:center}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Generador de Enlaces WhatsApp</h1>
    <div class="card">
      <div class="row">
        <div>
          <label for="cc">Código de país</label>
          <select id="cc" aria-label="Código de país">
            <!-- América primero -->
            <option value="57" selected>+57 (Colombia)</option>
            <option value="52">+52 (México)</option>
            <option value="1">+1 (EE. UU./Canadá)</option>
            <option value="54">+54 (Argentina)</option>
            <option value="55">+55 (Brasil)</option>
            <option value="56">+56 (Chile)</option>
            <option value="51">+51 (Perú)</option>
            <option value="593">+593 (Ecuador)</option>
            <option value="598">+598 (Uruguay)</option>
            <option value="595">+595 (Paraguay)</option>
            <option value="591">+591 (Bolivia)</option>
            <option value="58">+58 (Venezuela)</option>
            <option value="507">+507 (Panamá)</option>
            <option value="506">+506 (Costa Rica)</option>
            <option value="503">+503 (El Salvador)</option>
            <option value="502">+502 (Guatemala)</option>
            <option value="504">+504 (Honduras)</option>
            <option value="505">+505 (Nicaragua)</option>
            <option value="592">+592 (Guyana)</option>
            <option value="597">+597 (Surinam)</option>
            <option value="592">+592 (Guyana)</option>
            <option value="1-809">+1-809 (República Dominicana)</option>
            <option value="1-787">+1-787 (Puerto Rico)</option>

            <!-- Europa -->
            <option value="34">+34 (España)</option>
            <option value="39">+39 (Italia)</option>
            <option value="33">+33 (Francia)</option>
            <option value="49">+49 (Alemania)</option>
            <option value="44">+44 (Reino Unido)</option>
            <option value="351">+351 (Portugal)</option>
            <option value="31">+31 (Países Bajos)</option>
            <option value="41">+41 (Suiza)</option>
            <option value="43">+43 (Austria)</option>

            <!-- África -->
            <option value="27">+27 (Sudáfrica)</option>
            <option value="20">+20 (Egipto)</option>
            <option value="234">+234 (Nigeria)</option>
            <option value="212">+212 (Marruecos)</option>

            <!-- Asia -->
            <option value="91">+91 (India)</option>
            <option value="86">+86 (China)</option>
            <option value="81">+81 (Japón)</option>
            <option value="82">+82 (Corea del Sur)</option>
            <option value="62">+62 (Indonesia)</option>
            <option value="63">+63 (Filipinas)</option>
            <option value="60">+60 (Malasia)</option>
            <option value="65">+65 (Singapur)</option>
            <option value="90">+90 (Turquía)</option>
            <option value="66">+66 (Tailandia)</option>

            <!-- Oceanía -->
            <option value="61">+61 (Australia)</option>
            <option value="64">+64 (Nueva Zelanda)</option>
          </select>
        </div>
        <div>
          <label for="phone">Número de teléfono</label>
          <input id="phone" inputmode="numeric" pattern="[0-9]*" placeholder="3001112233" />
          <div class="help">Solo dígitos (sin + ni espacios)</div>
        </div>
      </div>

      <label for="msg">Mensaje</label>
      <textarea id="msg" placeholder="Hola, quiero comprar el Smartphone X10."></textarea>

      <div class="btns">
        <button class="primary" id="openBtn">Abrir en WhatsApp</button>
        <button class="ghost" id="copyBtn">Copiar enlace</button>
        <button class="ghost" id="shareBtn">Compartir</button>
      </div>

      <div class="help">Enlace generado:</div>
      <div id="linkOut" class="out small">—</div>
    </div>

    <div class="footer">Tip: agrega esta página a tu pantalla de inicio para acceso rápido.</div>
  </div>

  <script>
    const cc = document.getElementById('cc');
    const phone = document.getElementById('phone');
    const msg = document.getElementById('msg');
    const linkOut = document.getElementById('linkOut');
    const openBtn = document.getElementById('openBtn');
    const copyBtn = document.getElementById('copyBtn');
    const shareBtn = document.getElementById('shareBtn');

    function soloNumeros(s){ return (s || '').replace(/\D+/g,''); }

    function construirEnlace() {
      const code = soloNumeros(cc.value);
      const num = soloNumeros(phone.value);
      const text = msg.value || '';
      if(!code || !num) return '';
      const full = code + num;
      return `https://wa.me/${full}?text=${encodeURIComponent(text)}`;
    }

    function render() {
      const url = construirEnlace();
      linkOut.textContent = url || '—';
      return url;
    }

    [cc, phone, msg].forEach(el => el.addEventListener('input', render));

    openBtn.addEventListener('click', () => {
      const url = render();
      if(!url){ alert('Por favor ingresa código de país y número.'); return; }
      window.location.href = url;
    });

    copyBtn.addEventListener('click', async () => {
      const url = render();
      if(!url){ alert('No hay enlace para copiar.'); return; }
      try {
        await navigator.clipboard.writeText(url);
        copyBtn.textContent = '¡Copiado!';
        setTimeout(()=>copyBtn.textContent='Copiar enlace', 1200);
      } catch {
        const ta = document.createElement('textarea');
        ta.value = url; document.body.appendChild(ta);
        ta.select(); document.execCommand('copy'); document.body.removeChild(ta);
        copyBtn.textContent = '¡Copiado!';
        setTimeout(()=>copyBtn.textContent='Copiar enlace', 1200);
      }
    });

    shareBtn.addEventListener('click', async () => {
      const url = render();
      if(!url){ alert('No hay enlace para compartir.'); return; }
      if (navigator.share) {
        try { await navigator.share({ title: 'Enlace WhatsApp', url }); }
        catch(_) {}
      } else {
        alert('Tu navegador no soporta compartir nativo. Usa "Copiar enlace".');
      }
    });

    render();
  </script>
</body>
</html>
